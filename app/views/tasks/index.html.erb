<div class="container">
  <h1><%= link_to t('view.title.your_task_list'), root_path %></h1>
  <div class="btn btn-default"><%= link_to t('view.title.post_your_task'), new_task_path %></div>
  <div class="btn btn-default"><%= link_to t('view.title.sort_expired'), tasks_path(sort_expired: "true") %></div>
  <div class="btn btn-default"><%= link_to t('view.title.sort_priority'), tasks_path(sort_priority: "true") %></div>

  <h3><%= t("view.title.search_form")%></h3>
  <%= form_with(model:@task , local:true, url:tasks_path, method: :get, class: "form-inline") do |f| %>
    <div class ="form-group">
      <%= f.label :title_search, t("view.detail.title"), { class: 'sr-only' } %>
      <%= f.text_field :title_search, { class: 'form-control', placeholder: 'Title Name' } %>
    </div>

    <div class ="form-group">
      <%= f.label :status_search, t("view.detail.status") %>
      <%= f.select :status_search,{
          "未着手" => t('view.state.not_yet_started'),
          "着手" => t('view.state.start'),
          "完了" => t('view.state.complete'),
        },include_blank: true,selected: "", class:'form-control' %>
    </div>

    <%= f.hidden_field :search, value: 'true' %>
    <%= f.submit t('view.button.search'), class: 'btn btn-default' %>
  <% end %>

  <h3><%= t("view.title.label_form")%></h3>
  <%= form_with(model:@task, local:true, url:tasks_path, method: :get) do |f| %>
    <%= f.label :label_search %>
    <% Label.all.each do | label | %>
      <label style="background-color: aquamarine">
      <%= label.name %>
      <%= f.radio_button :label_search, label.name %>
      </label>
    <% end %>

    <%= f.hidden_field :search, value: 'true' %>
    <%= f.submit "ラベル検索", class: 'btn btn-default' %>
  <% end %>

  <ul>
  <% @task.each do |task| %>
    <table class="table table-hover">
      <tbody>
        <tr>
          <th class="col-md-2"><%= t('view.detail.title') %></th><td class="title"><%= task.title %></td>
        </tr>
        <tr>
          <th class="col-md-2"><%= t('view.detail.content') %></th><td class="content"><%= task.content %></td>
        </tr>
        <tr>
          <th class="col-md-2"><%= t('view.detail.status') %></th><td class="status"><%= task.status %></td>
        </tr>
        <tr>
          <th class="col-md-2"><%= t('view.detail.priority') %></th><td class="priority"><%= task.priority_i18n %></td>
        </tr>
        <tr>
          <th class ="col-md-2"><%= t('view.detail.created_at') %></th><td><span class="created_at"><%= task.created_at %><span></td>
        </tr>
        <tr>
          <th class="col-md-2"><%= t('view.detail.limit_datetime') %></td><td><span class="limit_datetime"><%= task.limit_datetime %><span></td>
        </tr>
        <td class="btn btn-default"><%= link_to t('view.button.edit'), edit_task_path(task.id) %></td>
        <td class="btn btn-default"><%= link_to t('view.button.delete'), task_path(task.id), method: :delete %></td>
        <td class="btn btn-default"><%= link_to t('view.button.show'), task_path(task.id) %></td>
      </tbody>
    </table>
  <% end %>
  </ul>
  <%= paginate @task %>
</div>
