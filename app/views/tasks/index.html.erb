<div class="container">
  <h1><%= link_to t('views.title.your_task_list'), root_path %></h1>
  <div class="btn btn-default"><%= link_to t('views.title.post_your_task'), new_task_path %></div>
  <div class="btn btn-default"><%= link_to t('views.title.sort_expired'), tasks_path(sort_expired: "true") %></div>
  <div class="btn btn-default"><%= link_to t('views.title.sort_priority'), tasks_path(sort_priority: "true") %></div>

  <h3><%= t("views.title.search_form")%></h3>

  <% if false %>
    <%= form_with(model:@task , local:true, url:tasks_path, method: :get, class: "form-inline") do |f| %>
      <div class ="form-group">
        <%= f.label :title_search, t("views.detail.title"), { class: 'sr-only' } %>
        <%= f.text_field :title_search, { class: 'form-control', placeholder: 'Title Name' } %>
      </div>

      <div class="form-group">
        <%= f.label :status_search, t('views.detail.status') %>
        <%= f.select :status_search, {
          Task.statuses_i18n[:waiting] => :waiting,
          Task.statuses_i18n[:working] => :working,
          Task.statuses_i18n[:complated] => :complated,
        }, include_blank: true %>
      </div>

      <%= f.hidden_field :search, value: 'true' %>
      <%= f.submit t('views.button.search'), class: 'btn btn-default' %>
    <% end %>
  <% end %>

  <%= search_form_for(@q, url:search_path) do |f| %>
    <div class="form_group">
      <%= f.label :title_cont %>
      <%= f.text_field :title_cont %>
    </div>
    <div class="form_group">
      <%= f.label :status_eq %>
      <%= f.select :status_eq, Task.statuses.map{|k,v| [Task.statuses_i18n[k], v]}, include_blank: true %>
    </div>
    <%= f.submit %>
  <% end %>

  <h3><%= t("views.title.label_form")%></h3>
  <%= form_with(model:@task, local:true, url:tasks_path, method: :get) do |f| %>
    <% Label.all.each do | label | %>
      <label style="background-color: aquamarine">
      <%= label.name %>
      <%= f.radio_button :label_search, label.name %>
      </label>
    <% end %>

    <%= f.hidden_field :search, value: 'true' %>
    <%= f.submit t('views.title.label_form'), class: 'btn btn-default' %>
  <% end %>

  <ul>
  <% @task.each do |task| %>
    <table class="table table-hover">
      <tbody>
        <tr>
          <th class="col-md-2"><%= t('views.detail.title') %></th><td class="title"><%= task.title %></td>
        </tr>
        <tr>
          <th class="col-md-2"><%= t('views.detail.content') %></th><td class="content"><%= task.content %></td>
        </tr>
        <tr>
          <th class="col-md-2"><%= t('views.detail.status') %></th><td class="status"><%= task.status_i18n %></td>
        </tr>
        <tr>
          <th class="col-md-2"><%= t('views.detail.priority') %></th><td class="priority"><%= task.priority_i18n %></td>
        </tr>
        <tr>
          <th class ="col-md-2"><%= t('views.detail.created_at') %></th><td><span class="created_at"><%= task.created_at %><span></td>
        </tr>
        <tr>
          <th class="col-md-2"><%= t('views.detail.limit_datetime') %></td><td><span class="limit_datetime"><%= task.limit_datetime %><span></td>
        </tr>
        <td class="btn btn-default"><%= link_to t('views.button.edit'), edit_task_path(task.id) %></td>
        <td class="btn btn-default"><%= link_to t('views.button.delete'), task_path(task.id), method: :delete %></td>
        <td class="btn btn-default"><%= link_to t('views.button.show'), task_path(task.id) %></td>
      </tbody>
    </table>
  <% end %>
  </ul>
  <%= paginate @task %>
</div>
